<!DOCTYPE html>
<html>
<head>
  <title>PeerJS Video Call</title>
  <style>
    #localVideo, #remoteVideo {
      width: 400px;
      height: 300px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h1>PeerJS Video Call</h1>

  <video id="localVideo" autoplay></video>
  <video id="remoteVideo" autoplay></video>

  <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
  <script>
    // Create a Peer object
    var peer = new Peer();

    // Get local video and display it
    navigator.mediaDevices.getUserMedia({ video: true, audio: false })
      .then(function(stream) {
        var localVideo = document.getElementById('localVideo');
        localVideo.srcObject = stream;

        // Event handler when Peer object is open and ready
        peer.on('open', function() {
          console.log('My peer ID is: ' + peer.id);
        });

        // Event handler when Peer object receives a connection
        peer.on('connection', function(conn) {
          conn.on('open', function() {
            console.log('Connected to another peer');

            // Event handler when receiving data from the remote peer
            conn.on('data', function(data) {
              // Handle received data (in this case, video frames)
              var remoteVideo = document.getElementById('remoteVideo');
              remoteVideo.srcObject = data;
            });
          });
        });

        // Function to handle errors
        peer.on('error', function(error) {
          console.error('PeerJS error: ', error);
        });
      })
      .catch(function(error) {
        console.error('Error accessing local media: ', error);
      });
  </script>
</body>
</html>
